{% extends 'base.html' %}

{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>

<div class="container mt-5">
  <h2 class="text-center mb-4">
    {% if job %}Edit Job{% else %}Add New Job{% endif %}
  </h2>

  <div class="row justify-content-center">
    <div class="col-md-8">
      <form method="POST" enctype="multipart/form-data"
            action="{% if job %}{% url 'edit_job' job.id %}{% else %}{% url 'add_job' %}{% endif %}" 
            class="shadow p-4 rounded bg-light">
        {% csrf_token %}

        <!-- Job Title -->
        <div class="mb-3">
          <label for="job_title" class="form-label">Job Title</label>
          <input type="text" class="form-control" id="job_title" name="job_title"
                 value="{{ job.job_title|default_if_none:'' }}" placeholder="Enter job title" required>
        </div>

        <!-- Job Description -->
        <div class="mb-3">
          <label for="job_description" class="form-label">Job Description</label>
          <textarea class="form-control" id="job_description" name="job_description" rows="4"
                    placeholder="Describe the job" required>{{ job.job_description|default_if_none:'' }}</textarea>
        </div>

        <!-- Job Image -->
        <div class="mb-3">
          <label for="job_image" class="form-label">Job Image</label>
          {% if job and job.job_image %}
            <div class="mb-2">
              <img src="{{ job.job_image.url }}" alt="Current Image" width="150" class="img-thumbnail">
            </div>
          {% endif %}
          <input type="file" class="form-control" id="job_image" name="job_image" {% if not job %}required{% endif %}>
        </div>

        <!-- Submit Button -->
        <div class="d-grid">
         
            <input type="submit" id="{{ job.job_id }}" class="btn btn-warning btn-lg" value="Update Job">
          
        </div>

      </form>
    </div>
  </div>
</div>
{% endblock %}
